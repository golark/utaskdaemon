import 'package:grpc/grpc_web.dart';
import './protother/protother.pbgrpc.dart';


class GrpcService {

  PlotsClient client;
  final channel = GrpcWebClientChannel.xhr(Uri.parse('http://localhost:8080'));

  GrpcService() {
    client = PlotsClient(channel);
  }

  pingServer() async {
    try {

      if (this.client != null) { 
        var response = await client.getOptions(OptionsRequest());
        print('received response $response.greeting');
      } else {
        print('client is not initialised');
      }

    } catch(e) {
      print('caught $e');
    }
  }


}
